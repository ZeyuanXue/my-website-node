"use strict";var getLanguage=getContent().then(function(n){return new Promise(function(o,e){$(document).ready(function(){o(n)})})}).catch(function(n){console.log("Error: "+n)});function getCookie(n){for(var o=n+"=",e=decodeURIComponent(document.cookie).split(";"),t=0;t<e.length;t++){for(var a=e[t];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(o))return a.substring(o.length,a.length)}return""}function getContent(){return n=function(){var n=getCookie("language");if(""==n){var o=navigator.language;n=o.includes("zh")?"cn":o.includes("ja")?"jp":"en"}var e="Zeyuan Xue";return"cn"==n?e="薛泽原":"jp"==n&&(e="薛澤原"),$("head").html($("head").html()+"<title>"+e+"</title>"),$("head").html($("head").html()+'<link rel="icon" href="/view/imgs/'+n+'-favicon.ico">'),document.cookie="language="+n,n}(),new Promise(function(o,e){$.ajax({type:"GET",url:"/view/language/"+n,dataType:"json",success:function(n,e,t){if(200==t.status){$("#content").css("font-family",n.welcomeAnimationPage.fontFamily),$("#homePage").css("font-family",n.welcomeAnimationPage.fontFamily),$("#aboutContent").css("font-family",n.welcomeAnimationPage.fontFamily),$("#navBrand").html("<img src='/view/imgs/"+getCookie("language")+"-favicon-1024.png' width='4.5%' style='min-width: 30px;position: absolute; top: 1.5%; left: 3%; max-width: 50px; top: 5px;'>"+$("#navBrand").html());var a="<div style='text-align: justify; width: 25%; position: absolute; top: 30%;'><img id='myPhoto' src='/view/imgs/me.jpeg' alt='My Photot' style='display:block; border-radius: 50%; border-style: solid; border-color: #e3e7ed; max-width: 100%; max-height: 100%; margin: 0;' width='100%' /><p class='whiteColor' style='text-align:center; font-size: 1.8vw;' ><b>"+n.name+"</b></span></p>";$("#photoAndContact").html(a+$("#photoAndContact").html()),$("#"+getCookie("language")+"LangIcon").removeClass("d-none").css("z-index","99999"),$("#"+getCookie("language")+"LangIcon").removeAttr("onclick");for(var i=["cn","en","jp"],c=0;c<3;c++)i[c]!=getCookie("language")&&$("body").on("click","#"+i[c]+"LangLink",function(n){document.cookie="language="+$(this).attr("id").substring(0,2),location.href="/",n.stopPropagation()});$("body").on("click","#"+getCookie("language")+"LangIcon",function(n){for(var o=["cn","en","jp"],e=$("#"+getCookie("language")+"LangIcon").height()+13,t=1,a=0;a<3;a++)o[a]!=getCookie("language")&&($("#"+o[a]+"LangIcon").position().top>16?$("#"+o[a]+"LangIcon").stop().animate({top:"15px",opacity:0},{duration:300,queue:!1}).promise().then(function(){$("#"+o[a]+"LangIcon").addClass("d-none")}):$("#"+o[a]+"LangIcon").removeClass("d-none").css("opacity","0").css("z-index","9999").animate({top:"+="+t++*e,opacity:1},{duration:300,queue:!1}));n.stopPropagation()}),$(document).on("click",function(){for(var n=["cn","en","jp"],o=0;o<3;o++)n[o]!=getCookie("language")&&$("#"+n[o]+"LangIcon").stop().animate({top:"15px",opacity:0},{duration:300,queue:!1}).promise().then(function(){$("#"+n[o]+"LangIcon").addClass("d-none")})}),new FontFace(n.welcomeAnimationPage.fontFamily,"url('view/css/fonts/"+n.welcomeAnimationPage.fontFamily+"')").load().then(function(){o(n)})}}}).fail(function(){e("Could not get website content for this language - "+n)})}).catch(function(n){console.log("Error: "+n)});var n}
